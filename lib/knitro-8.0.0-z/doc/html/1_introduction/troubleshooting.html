

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Troubleshooting &mdash; KNITRO user guide 8.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="KNITRO user guide 8.0 documentation" href="../index.html" />
    <link rel="up" title="Introduction" href="../1_introduction.html" />
    <link rel="next" title="Release notes" href="releaseNotes.html" />
    <link rel="prev" title="Unix (Linux, Mac OS X, Solaris)" href="installation/unix.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="releaseNotes.html" title="Release notes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation/unix.html" title="Unix (Linux, Mac OS X, Solaris)"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">KNITRO user guide 8.0 documentation</a> &raquo;</li>
          <li><a href="../1_introduction.html" accesskey="U">Introduction</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="troubleshooting">
<span id="sec-troubleshooting"></span><h1>Troubleshooting</h1>
<p id="index-0">Most issues are linked with either the calling program (such as AMPL or MATLAB)
not finding the KNITRO binaries, or with KNITRO not finding the license file.
These are discussed first.</p>
<div class="section" id="license-and-path-issues">
<h2>License and <span class="target" id="index-1"></span><tt class="xref std std-envvar docutils literal"><span class="pre">PATH</span></tt> issues</h2>
<p id="index-2">Below are a list of steps to take if you have difficulties
installing KNITRO.</p>
<ul class="simple">
<li>Create an environment variable <span class="target" id="index-3"></span><tt class="xref std std-envvar docutils literal"><span class="pre">ZIENA_LICENSE_DEBUG</span></tt> and set it to 1.
This will enable some debug output printing that will indicate where the
license manager is looking for a license file.
See Section 4.1 of the Ziena License Manager User&#8217;s Manual for more details
on how to set the <span class="target" id="index-4"></span><tt class="xref std std-envvar docutils literal"><span class="pre">ZIENA_LICENSE_DEBUG</span></tt> environment variable
and generate debugging information.</li>
<li>Ensure that the user has the correct permissions for read access to all
libraries and to the license file.</li>
<li>Ensure that the program calling KNITRO is 32 (or 64) bit when KNITRO
is 32 (or 64) bit. As an example, you cannot use KNITRO 32 bit with
MATLAB 64 bit or vice versa.</li>
<li>On Windows, make sure that you are setting <em>system</em> environment variables
rather than <em>user</em> environment variables, when setting environment variables
for KNITRO (or, if using user environment variables, that the correct user is
logged in).</li>
<li>KNITRO has multiple options for installing license files. If the procedure
you are trying is not working, please try an alternative procedure.</li>
<li>If you have multiple KNITRO executable files or libraries of the same name
on your computer, make sure that the one being used is really the one
you intend to use (by making sure it appears first in the definition of the
appropriate environment variable).</li>
</ul>
<p>Please also refer to the Ziena License Manager User&#8217;s Manual
provided with your distribution for additional installation and troubleshooting
information.</p>
</div>
<div class="section" id="matlab-compatibility-issues">
<h2>MATLAB compatibility issues</h2>
<p>MATLAB release R2008a, R2008b, and R2009a expect the KNITRO binary file
on Windows to be named <tt class="file docutils literal"><span class="pre">knitro520.dll</span></tt>, whereas KNITRO 6.x and later
provide a KNITRO binary file named <tt class="file docutils literal"><span class="pre">knitro.dll</span></tt>.  To use KNITRO 6.x or
later with MATLABelease R2008a, R2008b, and R2009a, you must simply
make a copy of the <tt class="file docutils literal"><span class="pre">knitro.dll</span></tt> binary provided, and rename the copy
<tt class="file docutils literal"><span class="pre">knitro520.dll</span></tt> (if a copy of this name does not already exist).</p>
<p>On Linux, particular MATLAB releases expect the KNITRO shared object
library to have particular version numbers.
MATLAB releases R2008a, R2008b, and R2009a expect the KNITRO library file
on Linux to be named <tt class="file docutils literal"><span class="pre">libknitro.so.5</span></tt>, MATLAB releases R2009b,
R2010a, and R2010b expect the KNITRO library file on Linux to be named
<tt class="file docutils literal"><span class="pre">libknitro.so.6</span></tt>, and MATLAB release R2011a, R2011b and R2012a expect
the KNITRO library file
on Linux to be named <tt class="file docutils literal"><span class="pre">libknitro.so.7</span></tt>.  In order to get KNITRO to
work with MATLAB on Linux, simply make a copy of the provided KNITRO shared
object library and rename the copy to have the library name expected
by that particular version of MATLAB.</p>
<p>KNITRO for Mac OS X requires MATLAB release R2010b or later.</p>
<p>Symbolic links, on systems that support them, are an alternative to
copying / renaming the file.</p>
</div>
<div class="section" id="issues-with-ld-library-path-on-ubuntu">
<h2>Issues with <span class="target" id="index-5"></span><tt class="xref std std-envvar docutils literal"><span class="pre">LD_LIBRARY_PATH</span></tt> on Ubuntu</h2>
<p id="index-6">In Ubuntu, setting directly <span class="target" id="index-7"></span><tt class="xref std std-envvar docutils literal"><span class="pre">LD_LIBRARY_PATH</span></tt> was reported to fail;
using <strong class="program">ldconfig</strong> solved the problem as follows:</p>
<ul class="simple">
<li>Go to <tt class="file docutils literal"><span class="pre">/etc/ld.so.conf.d/</span></tt> directory;</li>
<li>Create a new configuration file in this directory;</li>
<li>Set all your environment variables in this file and save it;</li>
<li>Execute <strong>sudo ldconfig -v</strong> at the prompt.</li>
</ul>
</div>
<div class="section" id="loading-dynamic-libraries">
<h2>Loading dynamic libraries</h2>
<p>Some user options instruct KNITRO to load dynamic libraries at runtime.
This will not work unless the executable can find the desired library using the
operating system&#8217;s load path. Usually this is done by appending the
path to the directory that contains the library to an environment variable.
For example, suppose the library to be loaded is in the KNITRO <tt class="file docutils literal"><span class="pre">lib</span></tt>
directory. The instructions below will correctly modify the load path.</p>
<ul>
<li><p class="first">On Windows, type (assuming KNITRO 8.0.0 is installed at its default location):</p>
<div class="highlight-python"><pre>set PATH=%PATH%;C:\Program Files\Ziena\KNITRO-8.0.0-z\lib</pre>
</div>
</li>
<li><p class="first">On Mac OS X, type (assuming KNITRO 8.0.0 is installed at /tmp):</p>
<div class="highlight-python"><pre>export DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH:/tmp/KNITRO-8.0.0-z/lib</pre>
</div>
</li>
<li><p class="first">If you run a Unix bash shell, then type (assuming KNITRO 8.0.0 is installed at /tmp):</p>
<div class="highlight-python"><pre>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/tmp/KNITRO-8.0.0-z/lib</pre>
</div>
</li>
<li><p class="first">If you run a Unix csh or tcsh shell, then type (assuming KNITRO 8.0.0
is installed at /tmp):</p>
<div class="highlight-python"><pre>setenv LD_LIBRARY_PATH $LD_LIBRARY_PATH:/tmp/KNITRO-8.0.0-z/lib</pre>
</div>
</li>
</ul>
</div>
<div class="section" id="linux-and-mac-os-x-compatibility-issues">
<h2>Linux and Mac OS X compatibility issues</h2>
<p>Linux platforms sometimes generate link errors when building the programs
in <tt class="file docutils literal"><span class="pre">examples/C</span></tt>. Simply type &#8220;gmake&#8221; and see if the
build is successful. You may see a long list of link errors similar to the
following:</p>
<div class="highlight-none"><div class="highlight"><pre>../lib/libknitro.a(.text+0x28808): In function `ktr_xeb4&#39;:
: undefined reference to `std::__default_alloc_template&lt;true, 0&gt;::deallo
cate(void*, unsigned int)&#39;
../lib/libknitro.a(.text+0x28837): In function `ktr_xeb4&#39;:
: undefined reference to `std::__default_alloc_template&lt;true, 0&gt;::deallo
cate(void*, unsigned int)&#39;
../lib/libknitro.a(.text+0x290b0): more undefined references to `std::__
default_alloc_template&lt;true, 0&gt;::deallocate(void*, unsigned int)&#39; follow
../lib/libknitro.a(.text+0x2a0ff): In function `ktr_x1150&#39;:
: undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;
, std::allocator&lt;char&gt; &gt;::_S_empty_rep_storage&#39;
../lib/libknitro.a(.text+0x2a283): In function `ktr_x1150&#39;:
: undefined reference to `std::__default_alloc_template&lt;true, 0&gt;::deallo
cate(void*, unsigned int)&#39;
</pre></div>
</div>
<p>This indicates an incompatibility between the libstdc++ library
on your Linux distribution and the library that KNITRO was built with.
The incompatibilities may be caused by name-mangling differences between
versions of the <strong class="program">gcc</strong> compiler, and by differences in the Application
Binary Interface of the two Linux distributions. The best fix is for
Ziena to rebuild the KNITRO binaries on the same Linux distribution
of your target machine (matching the Linux brand and release, and the
<strong class="program">gcc/g++</strong> compiler versions).</p>
<p>Other link errors may be seen on 64-bit Linux and Mac OS X platforms related to
undefined references to &#8220;omp&#8221; or &#8220;pthread&#8221; symbols.  For example, the link errors
may look something like</p>
<div class="highlight-none"><div class="highlight"><pre>undefined reference to `pthread_setaffinity_np@GLIBC_2.3.4&#39;
</pre></div>
</div>
<p>on Linux, or</p>
<div class="highlight-none"><div class="highlight"><pre>Undefined symbols:
      &quot;_GOMP_parallel_start&quot;, referenced from:
</pre></div>
</div>
<p>on Mac OS X.
This implies that the version of g++
used for linking is not compatible with the OpenMP features in the standard
KNITRO 8.0 libraries. In this case, try linking against the <em>sequential</em>
versions of the KNITRO libraries provided on these platforms.
See the  <tt class="file docutils literal"><span class="pre">README</span></tt> file provided in the <tt class="file docutils literal"><span class="pre">lib</span></tt> directory
of the KNITRO distribution for more information.</p>
</div>
<div class="section" id="windows-compatibility-issues">
<h2>Windows compatibility issues</h2>
<p>Using the &#8220;dll&#8221; version of the KNITRO library on Windows (i.e. linking against <tt class="file docutils literal"><span class="pre">knitro800.lib</span></tt>)
is recommended and should be compatible across multiple versions of the Microsoft Visual C++ (MSVC)
compiler.  A static KNITRO library named <tt class="file docutils literal"><span class="pre">knitro800_objlib.a</span></tt> is also provided.  However,
please be aware that this version will generally only be compatible with the same version of MSVC
used to create it.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Troubleshooting</a><ul>
<li><a class="reference internal" href="#license-and-path-issues">License and <tt class="docutils literal"><span class="pre">PATH</span></tt> issues</a></li>
<li><a class="reference internal" href="#matlab-compatibility-issues">MATLAB compatibility issues</a></li>
<li><a class="reference internal" href="#issues-with-ld-library-path-on-ubuntu">Issues with <tt class="docutils literal"><span class="pre">LD_LIBRARY_PATH</span></tt> on Ubuntu</a></li>
<li><a class="reference internal" href="#loading-dynamic-libraries">Loading dynamic libraries</a></li>
<li><a class="reference internal" href="#linux-and-mac-os-x-compatibility-issues">Linux and Mac OS X compatibility issues</a></li>
<li><a class="reference internal" href="#windows-compatibility-issues">Windows compatibility issues</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation/unix.html"
                        title="previous chapter">Unix (Linux, Mac OS X, Solaris)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="releaseNotes.html"
                        title="next chapter">Release notes</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="releaseNotes.html" title="Release notes"
             >next</a> |</li>
        <li class="right" >
          <a href="installation/unix.html" title="Unix (Linux, Mac OS X, Solaris)"
             >previous</a> |</li>
        <li><a href="../index.html">KNITRO user guide 8.0 documentation</a> &raquo;</li>
          <li><a href="../1_introduction.html" >Introduction</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Ziena Optimization LLC.
    </div>
  </body>
</html>